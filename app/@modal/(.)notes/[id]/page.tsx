import NotePreview from "@/app/@modal/(.)notes/[id]/NotePreview.client";
import { fetchNoteById } from "@/lib/api";

interface NoteModalProps {
  params: Promise<{ id: string }>;
}
export default async function NoteModalPage({ params }: NoteModalProps) {
  const { id } = await params;

  if (!id) {
    console.error("‚ùå –ù–µ—Ç ID –∑–∞–º–µ—Ç–∫–∏");
    return <p>Note ID is missing</p>;
  }
  console.log("üü° [NoteModalPage] –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–º–µ—Ç–∫—É —Å ID:", id);
  let note;
  try {
    note = await fetchNoteById(id);
  } catch (error) {
    console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–º–µ—Ç–∫–∏:", error);

    return <p>Note not found</p>;
  }

  return <NotePreview note={note} />;
}
